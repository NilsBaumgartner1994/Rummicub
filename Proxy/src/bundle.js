!function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=4)}([function(e,t){e.exports=require("path")},function(e,t){e.exports=require("express")},function(e,t){e.exports=require("fs")},function(e,t,r){"use strict";r.d(t,"a",(function(){return f}));const n=r(2),o=r(0);class i{static mkdirpath(e,t=!0){try{n.mkdirSync(e,{recursive:t})}catch(e){e.code}}static doesPathExist(e){return n.existsSync(e)}static mkdirpathForFile(e){let t=o.dirname(e);i.mkdirpath(t)}static deleteFile(e){try{n.unlinkSync(e)}catch(e){e.code}}static readFileAsString(e){return n.readFileSync(e)}static readFileAsJSON(e){let t=i.readFileAsString(e);return JSON.parse(t)}static writeFile(e,t,r){mkdirp(getDirName(e),(function(o){if(o)return r(o);n.writeFile(e,t,r)}))}static getAllFilesFormPath(e){if(!e)return null;let t=[];return n.existsSync(e)&&n.readdirSync(e).forEach((function(r,o){let i=e+"/"+r;n.lstatSync(i).isDirectory()||/(^|\/)\.[^\/\.]/g.test(r)||t.push(r)})),t}static deleteFolderRecursive(e){void 0!==e&&n.existsSync(e)&&(n.readdirSync(e).forEach((function(t,r){let o=e+"/"+t;n.lstatSync(o).isDirectory()?i.deleteFolderRecursive(o):n.unlinkSync(o)})),n.rmdirSync(e))}static getCreatedDate(e){const{birthtime:t}=n.statSync(e);return t}static getFileUpdatedDate(e){return n.statSync(e).mtime}}const{createLogger:s,format:a,transports:c}=r(8);r(9);const{combine:l,timestamp:u,label:p,printf:d}=a;class f{constructor(e,t){i.mkdirpath("./logs/");const r="./logs/"+e;i.mkdirpath(r);const n=d(({level:e,message:t,label:r,timestamp:n})=>`${n} [${r}] ${e}: ${t}`);let o=[];o.push(new c.DailyRotateFile({filename:"logs/"+e+"/error-%DATE%.log",datePattern:"YYYY-MM-DD-HH",zippedArchive:!1,maxSize:"20m",maxFiles:"14d",level:"error"})),o.push(new c.DailyRotateFile({filename:"logs/"+e+"/combined-%DATE%.log",datePattern:"YYYY-MM-DD-HH",zippedArchive:!1,maxSize:"20m",maxFiles:"14d"}));const a="Worker: "+t+" - "+e;this.logger=s({format:l(p({label:a}),u(),n),defaultMeta:{service:"user-service"},transports:o}),this.logger.info("["+e+"] Logger Created")}getLogger(){return this.logger}}},function(e,t,r){r(5),e.exports=r(6)},function(e,t){e.exports=require("babel-polyfill")},function(e,t,r){"use strict";r.r(t),function(e){var t=r(0),n=r.n(t),o=r(1),i=r.n(o),s=r(3);const a=r(7),{constants:c}=r(10),l=r(11),u=r(12),p=r(13),d=r(14),f=r(2),m=r(15);!async function(){console.log("Welcome to"),console.log("\n  ▄▄█▀▀▀█▄█▀███▀▀▀███  ▄▄█▀▀▀█▄█ \n▄██▀     ▀█  ██    ▀█▄██▀     ▀█ \n██▀       ▀  ██   █  ██▀       ▀ \n██           ██████  ██          \n██▄    ▀████ ██   █  ▄█▄    ▀████\n▀██▄     ██  ██     ▄███▄     ██ \n  ▀▀███████▄██████████ ▀▀███████ \n");const t=a.server.api_server_domain,o=r(16);process.env.NODE_TLS_REJECT_UNAUTHORIZED=0;const y=e=>{const t=e.headers["content-type"];return t&&t.indexOf("multipart")>-1},h=(e,r,n)=>m(t,{parseReqBody:!y(e),proxyReqPathResolver:e=>o.parse(e.baseUrl).path+o.parse(e.url).path})(e,r,n),v=a.server.server_api_metrics,S=a.server.server_frontend_domain,g=m(S,{proxyReqPathResolver:e=>o.parse(e.baseUrl).path}),x=new s.a;x.getLogger().info("Logger Instance (winston) created");const b=new i.a;b.use(p()),b.use(d()),b.disable("x-powered-by"),b.use(i.a.json()),b.use(i.a.static(n.a.join(e,"static"))),b.use("/api/*",h),b.use("/metrics/*",(e,t,r)=>m(v,{parseReqBody:!y(e),proxyReqPathResolver:e=>o.parse(e.baseUrl).path+o.parse(e.url).path})(e,t,r)),b.use("/*",g);const _="production";try{const t=443,r={secureOptions:c.SSL_OP_NO_TLSv1|c.SSL_OP_NO_TLSv1_1,key:f.readFileSync(n.a.join(e,"../../ServerAPI/certificates/privkey.pem")),cert:f.readFileSync(n.a.join(e,"../../ServerAPI/certificates/cert.pem")),passphrase:"YOUR PASSPHRASE HERE"};l.createServer(r,b).listen(t,e=>e?console.error(e):console.info(`\n      Server running on https://localhost:${t} [${_}]\n      Universal rendering: ${process.env.UNIVERSAL?"enabled":"disabled"}\n    `))}catch(e){const t=80;console.log("No certificates for https found"),u.createServer(b).listen(t,e=>e?console.error(e):console.info(`\n        Server running on http://localhost:${t} [${_}]\n        Universal rendering: ${process.env.UNIVERSAL?"enabled":"disabled"}\n    `))}}()}.call(this,"/")},function(e){e.exports=JSON.parse('{"server":{"api_server_domain":"localhost:3001","server_api_metrics":"localhost:9999/metrics/metrics","server_frontend_domain":"localhost:3000"}}')},function(e,t){e.exports=require("winston")},function(e,t){e.exports=require("winston-daily-rotate-file")},function(e,t){e.exports=require("crypto")},function(e,t){e.exports=require("https")},function(e,t){e.exports=require("http")},function(e,t){e.exports=require("cors")},function(e,t){e.exports=require("helmet")},function(e,t){e.exports=require("express-http-proxy")},function(e,t){e.exports=require("url")}]);